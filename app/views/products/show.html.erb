<main class="container">
<div>
  <%= form_tag products_path, method: :get do %>
        <%= text_field_tag :query,
      params[:query],
      class: "form-control",
      placeholder: "Search by Product name or Certification type" %>
        <%= submit_tag "Search", class: "btn btn-primary" %>
      <% end %>
<h1><%= @product.name %></h1>
<div>
<div class="product-container d-flex bd-highlight align-self-center" >

  <div class="p-2 flex-fill bd-highlight">
  <div id="carouselExampleControls" style="height: 400px; width: 500px; "class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <%= image_tag 'medikit.jpg', size: '500x400', style: 'object-fit: cover;'%>
      </div>
      <div class="carousel-item">
        <%= image_tag 'medikit.jpg', size: '500x400', style: 'object-fit: cover;'%>
      </div>
      <div class="carousel-item">
        <%= image_tag 'medikit.jpg', size: '500x400', style: 'object-fit: cover;'%>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

  <div class="product-show p-2 flex-fill bd-highlight">
    <p>Price: $<%= @product.price %>/unit</p>
    <p>Category: <%= @product.category %></p>
    <p>In Stock: <%= @product.production_quantity %></p>
    <p>Minimum order: <%= @product.minimum_order_quantity %></p>
    <p>Supplier: <%= @product.supplier.name %></p>
    <p><%= link_to "Make an offer", new_purchasers_offer_path(product_id: @product.id) %></p>
    <p><%= link_to "Message to the supplier", new_message_path(product_id: @product.id) %></p>
    <div><%= link_to "See supplier info", supplier_path(@product.supplier) %></div>

    <% if policy([:suppliers, @product]).edit? %>
      <div><%= link_to "Edit product", edit_suppliers_product_path(@product) %></div>
    <% end %>

    <% if policy([:suppliers, @product]).destroy? %>
      <div><%= link_to "Destroy product", suppliers_product_path(@product.id), method: :delete, data: {confirm: 'Are you sure?'} %></div>
    <% end %>
    </div>
   </div>

  </div>
  </main>

  <div>
  <div class="product-show-message p-2 flex-fill bd-highlight">
    <%= render 'shared/message_form' %>
  </div>
 </div>
</div>

